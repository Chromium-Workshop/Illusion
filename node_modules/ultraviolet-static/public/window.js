function ab() {
        var win = window.open()
        var url = window.location.href+"../../../../";
        var iframe = win.document.createElement("iframe")
    
        iframe.style.width = "100%";
        iframe.style.height = "100%";
        iframe.style.border = "0%";
        iframe.src = url
    
        win.document.body.appendChild(iframe)
}

function abp() {
    var win = window.open()
    var url = window.location.href+"../../../../";
    var iframe = win.document.createElement("iframe")

    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.border = "0%";
    iframe.src = url

    win.document.body.appendChild(iframe)
}

function lightmode() {
    window.location.replace("lidex.html");
}

function darkmode() {
    window.location.replace("index.html");
}

function run() {
document.body.onload = opt();
}

    //create window
    function opt() {

    //importing fonts is not fun in javascript :( at least it will look nice
    var link1 = document.createElement('link')
    link1.rel = "preconnect"
    link1.href = "https://fonts.googleapis.com"
    var link2 = document.createElement('link')
    link2.rel = "preconnect"
    link2.href = "https://fonts.gstatic.com"
    link2.crossOrigin = true
    var link3 = document.createElement('link')
    link3.href = "https://fonts.googleapis.com/css2?family=Rubik&display=swap"
    link3.rel = "stylesheet"

    //element.style.fontFamily = "'Rubik', sans-serif"

    //window is moved from header gui is the whole thing
     var gui = document.createElement('div');
     var header = document.createElement('div');
     //some css styling
     header.style.padding = "5px"
     header.style.backgroundColor = "#4E4E4E"
     header.style.borderRadius = '5px'
     //put elements into the document
     gui.appendChild(header)
     document.body.appendChild(gui)
     //more css
     gui.style.backgroundColor = 'black'
     gui.style.width = '200px'
     gui.style.height = '250px'
     gui.style.borderRadius = '5px'
     gui.draggable = false;
     gui.style.position = "absolute"

     //create title
     var title = document.createElement('p');
     title.textContent = "Options"
     title.style.cursor = "default"
     title.style.margin = "0"
     title.style.fontFamily = "'Rubik', sans-serif"
     title.style.color = "white"
     header.appendChild(title)

     //create option function
     var create_options = function(text, func){
        var option_container = document.createElement('div')
        var option = document.createElement('p')
        option.style.fontFamily = "'Rubik', sans-serif"
        option.style.color = "white"
        option.style.cursor = "pointer"
        option.textContent = text
        option.style.padding = "2px"
        option.style.paddingLeft = "5px"
        option_container.style.backgroundColor = "#1f1f1f"
        option_container.onclick = function(){
            if(func === "ab") {
                ab()
            }

            if(func === "abp") {
                abp()
            }

            if(func === "light") {
                lightmode()
            }

            if(func === "dark") {
                darkmode()
            }
        }
        option_container.appendChild(option)
        gui.appendChild(option_container)
     }

     create_options("AB Cloaking", "ab")
     create_options("Broken", "abp")
     create_options("Light Mode", "light")
     create_options("Dark Mode", "dark")

    //move window
     var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
     header.onmousedown = dragMouseDown;
    function dragMouseDown(e) {
     e = e || window.event;
     e.preventDefault();
     pos3 = e.clientX;
     pos4 = e.clientY;
     document.onmouseup = closeDragElement;
     document.onmousemove = elementDrag;
    }
    //calculate movement
    function elementDrag(e) {
     e = e || window.event;
     e.preventDefault();
     pos1 = pos3 - e.clientX;
     pos2 = pos4 - e.clientY;
     pos3 = e.clientX;
     pos4 = e.clientY;
     gui.style.top = (gui.offsetTop - pos2) + "px";
     gui.style.left = (gui.offsetLeft - pos1) + "px";
    }

    function closeDragElement() {
     document.onmouseup = null;
     document.onmousemove = null;
    }

     
    }